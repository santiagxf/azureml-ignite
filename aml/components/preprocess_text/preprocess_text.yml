name: preprocess_text
display_name: Preprocess text
version: 1
type: command
description: Generic text processor for downstream NLP tasks
tags: {category: NLP, type: Processing}
inputs:
  input_dataset: 
    type: uri_folder
    description: Text Dataset Description used for finetuning tasks.
  text_column_name:
    type: string
    description: Name of the column to preprocess.
  split_sentences:
    type: boolean
    description: Indicates if sentenses should be split.
  unique_words:
    type: integer
    description: Indicates the max number of words on each sentence.
  max_sentence_len:
    type: integer
    description: Indicates the max number of words on each sentence.
outputs:
  output_dataset:
    type: uri_folder
code: preprocess_text.py
environment: azureml:base-hf-transformer-trainer:1
command: >-
  jobtools preprocess_text.py preprocess
  --input-dataset ${{inputs.input_dataset}}
  --text-column-name ${{inputs.text_column_name}}
  --split-sentences ${{inputs.split_sentences}}
  --unique-words ${{inputs.unique_words}}
  --max-sentence-len ${{inputs.max_sentence_len}}
  --output-dataset ${{outputs.output_dataset}}